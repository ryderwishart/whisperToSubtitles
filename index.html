<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Whisper JSON to VTT Converter</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
          Oxygen, Ubuntu, Cantarell, sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 2rem;
        line-height: 1.6;
        color: #333;
      }

      .container {
        background: #fff;
        border-radius: 8px;
        padding: 2rem;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      h1 {
        color: #2c3e50;
        margin-bottom: 1rem;
      }

      .description {
        background: #f8f9fa;
        border-left: 4px solid #3498db;
        padding: 1rem;
        margin: 1.5rem 0;
        border-radius: 0 4px 4px 0;
      }

      .upload-section {
        border: 2px dashed #ddd;
        border-radius: 8px;
        padding: 2rem;
        text-align: center;
        margin-bottom: 1.5rem;
        transition: all 0.3s ease;
      }

      .upload-section:hover {
        border-color: #3498db;
      }

      .file-input {
        display: none;
      }

      .select-button {
        background: #3498db;
        color: white;
        padding: 0.8rem 1.5rem;
        border-radius: 4px;
        border: none;
        cursor: pointer;
        font-size: 1rem;
        transition: background 0.3s ease;
      }

      .select-button:hover {
        background: #2980b9;
      }

      #status {
        margin-top: 1rem;
        padding: 1rem;
        border-radius: 4px;
      }

      .success {
        background: #e8f5e9;
        color: #2e7d32;
      }

      .error {
        background: #ffebee;
        color: #c62828;
      }

      .example {
        background: #fff8dc;
        padding: 1rem;
        border-radius: 4px;
        margin-top: 1rem;
        font-family: monospace;
        font-size: 0.9rem;
      }

      .github-link {
        display: inline-block;
        margin-top: 1rem;
        text-decoration: none;
        color: #3498db;
        font-weight: 500;
      }

      .github-link:hover {
        text-decoration: underline;
      }

      footer {
        margin-top: 2rem;
        text-align: center;
        color: #7f8c8d;
        font-size: 0.9rem;
      }

      footer a {
        color: #3498db;
        text-decoration: none;
      }

      footer a:hover {
        text-decoration: underline;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Whisper JSON to VTT Converter</h1>

      <div class="description">
        <p>
          This tool converts Whisper's forced alignment JSON output to WebVTT
          format. Whisper's forced alignment feature generates precise
          timestamps for each segment of audio, which this tool converts into
          standard VTT subtitles for web video players.
        </p>
        <p>
          Generate Whisper JSON output in your browser using
          <a href="https://huggingface.co/spaces/Xenova/whisper-web"
            >Whisper Web</a
          >.
        </p>
        <p>Expected JSON format from Whisper's forced alignment:</p>
        <div class="example">
          [ { "timestamp": [0, 8.24], "text": "Your transcribed text here" } ]
        </div>
      </div>

      <div class="upload-section">
        <input type="file" id="fileInput" class="file-input" accept=".json" />
        <button
          class="select-button"
          onclick="document.getElementById('fileInput').click()"
        >
          Select Whisper JSON File
        </button>
        <p>
          Select your Whisper forced alignment JSON output file to convert it to
          VTT format
        </p>
      </div>
      <div id="status"></div>

      <a href="https://github.com/frontierrnd/whisperToVTT" class="github-link">
        View on GitHub
      </a>
    </div>

    <footer>
      <p>
        Open Source! &copy;
        <a href="https://frontierrnd.com">Frontier R&D</a> 2025
      </p>
    </footer>

    <script src="converter.js"></script>
  </body>
</html>
